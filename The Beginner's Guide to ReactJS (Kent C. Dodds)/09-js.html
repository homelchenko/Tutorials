<div id="root"></div>
<script src="https://unpkg.com/react@16.0.0/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>

<script type="text/babel">
    class NameForm extends React.Component {
        handleSubmit(event) {
            event.preventDefault();

            const error = this.getErrorMessage(this.nameNode.value);

            console.log(error);
        }

        getErrorMessage(name) {
            if (!name) {
                return `You must specify the name`;
            }

            if (name.length < 3) {
                return `Name must be at least 3 characters, but you have only ${name.length}`;
            }

            if (!name.includes("s")) {
                return `Name must contain 's' character`;
            }

            return `success: ${name}`;
        }

        setNameNode(node) {
            this.nameNode = node;
        }

        render() {
            return (
                <form onSubmit={this.handleSubmit.bind(this)}>
                    <label>
                        Name:
                        <input type="text" ref={this.setNameNode.bind(this)} />
                    </label>
                    <button type="submit">Submit</button>
                </form>
            )
        }
    }


    function renderApp() {
        ReactDOM.render(
            <NameForm />,
            document.getElementById('root'))
    };

    renderApp();
</script>